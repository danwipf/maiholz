(this["webpackJsonpsauna-app"]=this["webpackJsonpsauna-app"]||[]).push([[0],{17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),c=a.n(r),o=(a(7),a(3)),s=a(2);a(17);var m=function(e){let{children:t}=e;const[a,r]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"header"},l.a.createElement("h1",{className:"logo"},"Sauna"),l.a.createElement("div",{className:"menu-toggle",onClick:()=>r(!a)},"\u2630"),l.a.createElement("nav",{className:"nav "+(a?"open":"")},l.a.createElement(o.b,{to:"/",onClick:()=>r(!1)},"Setting"),l.a.createElement(o.b,{to:"/dashboard",onClick:()=>r(!1)},"Dashboard"))),l.a.createElement("main",{className:"main-content"},t))};var u=function(){const[e,t]=Object(n.useState)(localStorage.getItem("username")||""),[a,r]=Object(n.useState)(localStorage.getItem("password")||""),c=Object(s.q)();return console.log("Settings-Seite geladen"),l.a.createElement("div",{className:"settings-container"},l.a.createElement("form",{className:"settings-box",onSubmit:t=>{t.preventDefault(),localStorage.setItem("username",e),localStorage.setItem("password",a);const n=e+".duckdns.org";localStorage.setItem("dyndns",n),c("/dashboard")}},l.a.createElement("h1",null,"Setting"),l.a.createElement("h2",null,"Benutzername"),l.a.createElement("input",{type:"text",placeholder:"Benutzername",value:e,onChange:e=>t(e.target.value),required:!0}),l.a.createElement("h2",null,"Passwort"),l.a.createElement("input",{type:"text",placeholder:"Passwort",value:a,onChange:e=>r(e.target.value),required:!0}),l.a.createElement("button",{type:"submit"},"Login")))};var i=function(){return l.a.createElement("div",{className:"setting-container"},l.a.createElement("div",{className:"setting-box"},l.a.createElement("h2",null,"Dashboard"),l.a.createElement("button",{onClick:async()=>{const e=localStorage.getItem("username"),t=localStorage.getItem("password"),a=localStorage.getItem("dyndns");if(e&&t&&a)try{const n=await fetch(`http://${a}/relay/0?turn=toggle`,{method:"GET",headers:{Authorization:"Basic "+btoa(`${e}:${t}`)}});if(!n.ok)throw new Error("HTTP "+n.status);alert("Schaltvorgang erfolgreich!")}catch(n){alert("Fehler beim Schalten: "+n.message)}else alert("Credentials fehlen.")}},"Sauna ein-/ausschalten")))};var g=function(){const e=localStorage.getItem("username")&&localStorage.getItem("password");return l.a.createElement(o.a,null,l.a.createElement(m,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/",element:l.a.createElement(u,null)}),l.a.createElement(s.b,{path:"/dashboard",element:e?l.a.createElement(i,null):l.a.createElement(s.a,{to:"/settings"})}))))};var d=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null))),d()},7:function(e,t,a){},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.81dfc4c9.chunk.js.map